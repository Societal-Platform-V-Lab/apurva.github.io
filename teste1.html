<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport" />
  <meta name="author" content="apurva.ai" />
  <meta name="description" content="Apurva, an open innovation platform for change leaders to leverage the collective wisdom of their network to solve problems with speed and at scale. It offers a suite of solutions for generating valuable insights from conversations, connections, and queries." />
  <meta name="keywords" content="Sustainable Development Goals, Innovation, Platform, Conversation, Connections, Query, Solver, Funder, Network, Artificial Intelligence, Technology, Problem" />
  <title>Voice of Communities</title>
  <link rel="icon" href="source/img/favicon.png" />
  <link rel="stylesheet" href="source/css/bundle.min.css" />
  <link rel="stylesheet" href="source/css/settings.css" />
  <link rel="stylesheet" href="source/css/style.css" />
  <link rel="stylesheet" href="source/css/apurva.css" />
  <link rel="stylesheet" href="source/css/custom.css" />
  <link rel="stylesheet" href="source/css/fotter.css" />
  <link rel="stylesheet" href="source/css/home.css" />
  <link rel="stylesheet" href="source/css/cards.css" />
  <link rel="stylesheet" href="source/css/experience.css" />
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-MPJ848CKT6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag("js", new Date());
    gtag("config", "G-MPJ848CKT6");
  </script>
  <style>
    /* Add necessary custom styles */
  </style>
</head>
<body data-spy="scroll" class="homePage" data-target=".navbar-nav" data-offset="90">
  <!-- Loader -->
  <div class="loader" id="loader-fade">
    <div class="loader-container">
      <ul class="loader-box">
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
      </ul>
    </div>
  </div>
  <!-- Loader ends -->

  <div id="headers"></div>
  <section id="experiencepages" class="section flex-row-block">
    <div class="container-fluid">
      <div class="row">
        <div class="col-lg-7 mb-lg-0">
          <div class="experience">
            <h2>Voice of<br /><span class="greenexp">Communities</span></h2>
            <br />
            <div class="col-lg-10 mb-lg-0">
              <p>Understanding communities is essential for program success. Now, transform community voices into deep, trusted and actionable insights!</p>
            </div>
          </div>
        </div>
        <div class="col-lg-5 mb-12 mb-lg-0 position-relative">
          <div class="circle_comingsoon rounded-full"></div>
          <div class="coming">
            <button type="button" class="register-button subscribe-button" id="reachout">
              <div class="subscribe-button-texthome" style="color: black">Reach Out</div>
            </button>
            <img src="source/img/Iconography/Voice of Communities.png" class="" />
          </div>
        </div>
      </div>
      <div class="br"></div>
      <div id="myCarousel" class="carousel slide" data-ride="carousel" data-interval="4000">
        <p class="greenquery typewriter" id="typewriter-text" data-texts='["Design sense-making infrastructures that are community-centric", "Understand problems, raise awareness and inspire action"]'></p>
      </div>
      <p class="queryp">
        With "<span class="querytext">VOICE OF COMMUNITIES</span>", you can literally listen to the on-ground reality!
      </p>
      <br /><br /><br /><br />
      <div class="row justify-content-center" id="exprow">
        <div class="row mt-5">
          <div class="col-lg-4 mb-4">
            <div class="card">
              <div class="card-body-apu">
                <div class="card-content">
                  <p class="card-text">Keep the voices of communities at the heart of all your design decisions</p>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-4 mb-4">
            <div class="card">
              <div class="card-body-apu">
                <div class="card-content">
                  <p class="card-text">Amplify grassroots voices</p>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-4 mb-4">
            <div class="card">
              <div class="card-body-apu">
                <div class="card-content">
                  <p class="card-text">Transition from a last-mile to a first-mile approach</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <section></section>
  <div id="footer"></div>
  <!-- Animated Cursor -->
  <div id="animated-cursor">
    <div id="cursor">
      <div id="cursor-loader"></div>
    </div>
  </div>
  <!-- Animated Cursor End -->

  <!-- JavaScript -->
  <script src="source/js/bundle.min.js"></script>
  <script src="source/js/apurvaExperience.js"></script>
  <script src="source/js/header.js"></script>
  <script src="source/js/footer.js"></script>
  <script src="source/js/script.js"></script>
  <script src="source/js/particles.js"></script>
  <script src="source/js/typewriter.js"></script>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const reachOutButton = document.getElementById("reachout");

      reachOutButton.addEventListener("click", function () {
        createModal();
      });

      function createModal() {
        const modal = document.createElement("div");
        modal.className = "modal fade show";
        modal.id = "exampleModalCenter";
        modal.tabIndex = "-1";
        modal.role = "dialog";
        modal.setAttribute("aria-labelledby", "exampleModalCenterTitle");
        modal.setAttribute("aria-hidden", "true");
        modal.style.display = "block";

        const modalDialog = document.createElement("div");
        modalDialog.className = "modal-dialog modal-dialog-centered";
        modalDialog.role = "document";

        const modalContent = document.createElement("div");
        modalContent.className = "modal-content";

        const modalTitle = document.createElement("h5");
        modalTitle.className = "modal-title";
        modalTitle.id = "exampleModalCenterTitle";
        modalTitle.textContent = "Subscribe for Updates";

        const closeButton = document.createElement("button");
        closeButton.type = "button";
        closeButton.className = "close";
        closeButton.setAttribute("data-dismiss", "modal");
        closeButton.setAttribute("aria-label", "Close");
        closeButton.innerHTML = '<span aria-hidden="true">&times;</span>';
        closeButton.id = "close";

        closeButton.addEventListener("click", function () {
          document.body.removeChild(modal);
        });

        modalTitle.appendChild(closeButton);

        const modalBody = document.createElement("div");
        modalBody.className = "modal-body";

        const form = document.createElement("form");
        form.className = "Subscribe_for_updates";
        form.id = "subscriptionForm";

        const subGroup1 = createSubGroup("Name", "text", "name", "Name is required");
        const subGroup2 = createSubGroup("Email ID", "email", "email", "Email is required");
        const subGroup3 = createSubGroup("Organization Website Link", "text", "Organization", "Organization is required");
        const subGroup4 = createSubGroup('Describe the problem that "Apurva for Voice of Communities" would address for your organization.', "textarea", "des", "Description is required");

        form.appendChild(subGroup1);
        form.appendChild(subGroup2);
        form.appendChild(subGroup3);
        form.appendChild(subGroup4);

        const subscribeButton = document.createElement("button");
        subscribeButton.type = "button";
        subscribeButton.className = "sub mx-auto d-block";
        subscribeButton.id = "subscribeButton";
        subscribeButton.innerHTML = '<div class="subscribe-button-text">Subscribe for updates</div>';

        subscribeButton.addEventListener("click", validateEmail);

        const thankYouMessage = document.createElement("p");
        thankYouMessage.className = "thank-you-message";
        thankYouMessage.id = "thank-you";
        thankYouMessage.style.display = "none";
        thankYouMessage.textContent = "Thank you for your interest. Your subscription was successful";

        form.appendChild(subscribeButton);
        form.appendChild(thankYouMessage);

        modalBody.appendChild(form);
        modalContent.appendChild(modalTitle);
        modalContent.appendChild(modalBody);
        modalDialog.appendChild(modalContent);
        modal.appendChild(modalDialog);

        document.body.appendChild(modal);
      }

      function createSubGroup(placeholder, type, id, validationMessage) {
        const subGroup = document.createElement("div");
        subGroup.className = "sub-group";

        let input;
        if (type === "textarea") {
          input = document.createElement("textarea");
          input.className = "des-textbox";
        } else {
          input = document.createElement("input");
          input.type = type;
          input.className = "email-textbox";
        }

        input.id = id;
        input.placeholder = placeholder;
        input.required = true;
        input.style.color = "black";

        const validation = document.createElement("span");
        validation.className = "validation-message";
        validation.id = `${id}-validation`;
        validation.style.display = "none";
        validation.style.color = "red";
        validation.textContent = validationMessage;

        subGroup.appendChild(input);
        subGroup.appendChild(validation);

        return subGroup;
      }

      function validateEmail() {
        const name = document.getElementById("name");
        const email = document.getElementById("email");
        const organization = document.getElementById("Organization");
        const description = document.getElementById("des");

        const nameValidation = document.getElementById("name-validation");
        const emailValidation = document.getElementById("email-validation");
        const orgValidation = document.getElementById("Organization-validation");
        const desValidation = document.getElementById("des-validation");

        let valid = true;

        if (!name.value) {
          nameValidation.style.display = "block";
          valid = false;
        } else {
          nameValidation.style.display = "none";
        }

        if (!email.value) {
          emailValidation.style.display = "block";
          valid = false;
        } else {
          emailValidation.style.display = "none";
        }

        if (!organization.value) {
          orgValidation.style.display = "block";
          valid = false;
        } else {
          orgValidation.style.display = "none";
        }

        if (!description.value) {
          desValidation.style.display = "block";
          valid = false;
        } else {
          desValidation.style.display = "none";
        }

        if (valid) {
          document.getElementById("thank-you").style.display = "block";
        }
      }

      function sendSubscription(name, email, organization, description) {
        var requestOptions = {
          method: "GET",
          redirect: "follow",
        };
        var url = `https://script.google.com/macros/s/AKfycbxDfGjbMiHvo0GxHlmuJZbE1VceYmHgYWtfvixefKa6SfHm-3BKkqAh9mT0BZqRSjgKhQ/exec?Name=${name}&Email=${email}&Organisation=${organization}&Message=${description}`;

        fetch(url, requestOptions)
          .then((response) => response.json())
          .then((result) => {
            console.log(result);
            // Handle the result here, such as showing a success message to the user
          })
          .catch((error) => console.log("error", error));
      }

      function showThankYouMessage() {
        thankYouMessage.style.display = "inline";
        // Automatically close the modal after 5 seconds
        setTimeout(function () {
          document.body.removeChild(document.getElementById("exampleModalCenter")); // Close the modal
          location.reload();
        }, 5000);
      }

      document.body.addEventListener("click", function (event) {
        if (event.target && event.target.id === "subscribeButton") {
          // Validate the form fields
          const name = document.getElementById("name").value;
          const email = document.getElementById("email").value;
          const organization = document.getElementById("Organization").value;
          const description = document.getElementById("des").value;
          const emailValidationMessage = document.getElementById("email-validation");

          const emailRegex = /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i;

          if (!name) {
            document.getElementById("name-validation").style.display = "block";
          } else {
            document.getElementById("name-validation").style.display = "none";
          }

          if (!email) {
            document.getElementById("email-validation").style.display = "inline";
          } else if (!emailRegex.test(email)) {
            emailValidationMessage.textContent = "Invalid email format";
            emailValidationMessage.style.display = "block";
          } else {
            document.getElementById("email-validation").style.display = "none";
          }

          if (!organization) {
            document.getElementById("Organization-validation").style.display = "inline";
          } else {
            document.getElementById("Organization-validation").style.display = "none";
          }

          if (!description) {
            document.getElementById("des-validation").style.display = "inline";
          } else {
            document.getElementById("des-validation").style.display = "none";
          }

          if (!name || !email || !organization || !description) {
            return;
          }

          sendSubscription(name, email, organization, description);
          document.getElementById("subscriptionForm").reset();
          showThankYouMessage();
        }
      });
    });
  </script>
</body>
</html>
